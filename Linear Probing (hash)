#include <iostream>
#include <string>
using namespace std;

struct cust {
    string name;
    int TellNo;
};

int main() {
    cust LHash[10];
    int total, tel, n;
    string tname;

    // Initialize array
    for (int i = 0; i < 10; i++) {
        LHash[i].name = "none";
        LHash[i].TellNo = -1;
    }
    for (int i = 0; i < 10; i++) 
    {
        cout << i << " | " << LHash[i].name << " : " << LHash[i].TellNo << endl;
    }

    cout << "\nHow many records? ";
    cin >> n;

    for (int i = 0; i < n; i++) {
        cout << "\nEnter Name: ";
        cin >> tname;
        cout << "Enter Telephone Number: ";
        cin >> tel;

        total = 0;
        for (int k = 0; tname[k] != '\0'; k++) {
            total += tname[k];
        }
        cout << "total ASCII value:"<< total;

        int h = total % 10;
        int flag = 0;

        // Linear Probing Collision Handling
        for (int j = 0; j < 10; j++) {
            int idx = (h + j) % 10;
            if (LHash[idx].TellNo == -1) {
                LHash[idx].TellNo = tel;
                LHash[idx].name = tname;
                flag = 1;
                break;
            }
        }

        if (flag == 0)
            cout << "Linear probing failed, table full!";
    }

    cout << "\nLinear Probing Hash Table:\n";
    for (int i = 0; i < 10; i++) {
        cout << i << " --> " << LHash[i].name << " : " << LHash[i].TellNo << endl;
    }

    return 0;
}
